<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Sabor do Brasil</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.12.1/font/bootstrap-icons.min.css">

  <!-- Estilo personalizado -->
  <style>
    .card-img-top {
      max-height: 250px;
      object-fit: cover;
    }

    .interact-btn {
      cursor: pointer;
      margin-right: 6px;
    }

    .card-title {
      font-weight: bold;
    }
  </style>
</head>
<body>
  <!-- Container Principal -->
  <d class="container-fluid min-vh-100 d-flex flex-column">
    <div class="row flex-grow-1">

      <!-- COLUNA 1: Perfil -->
      <aside class="col-md-3 bg-light p-3 border-end">
       <div class="text-center" id="perfil-container">
  <img src="img/logo_sabor_do_brasil.png" class="img-fluid" alt="Logo da empresa" id="perfil-img">
  <h4 class="mt-3" id="perfil-nome">Sabor do Brasil</h4>
  <hr style="border: 2px solid #D97014;">
</div>
        <div class="text-center">
          <p>Likes: <span id="total-likes">9</span></p>
          <p>Dislikes: <span id="total-dislikes">12</span></p>
        </div>
      </aside>

      <!-- COLUNA 2: Publicações -->
      <main class="col-md-6 p-3 border" style="border-color: #C2BEBE;">
        <h2 class="text-center text-black">Publicações</h2>

        <div id="posts">
          <!-- Card 1 -->
          <div class="card mb-3" id="post-1">
            <img src="img/feijoada.jfif" class="card-img-top" alt="Feijoada Completa">
            <div class="card-body">
              <h5 class="card-title text-start">Feijoada Completa</h5>
              <p class="card-text text-start"><small class="text-muted">Sabores da Terra - Belo Horizonte</small></p>
              <div class="d-flex justify-content-start align-items-center gap-3">
                <div class="d-flex align-items-center">
                  <img src="img/liikee.png" width="24" class="interact-btn" data-type="like" data-post="1">
                  <span class="ms-1" id="like-count-1">12</span>
                </div>
                <div class="d-flex align-items-center">
                  <img src="img/dislikee.png" width="24" class="interact-btn" data-type="dislike" data-post="1">
                  <span class="ms-1" id="dislike-count-1">2</span>
                </div>
                <div class="d-flex align-items-center">
                  <img src="img/comentarios.png" width="24" class="interact-btn" data-type="comment" data-post="1">
                  <span class="ms-1" id="comment-count-1">5</span>
                </div>
              </div>
            </div>
          </div>

            <!-- Card 2 -->
            <div class="card mb-3" id="post-2"></div>
            <img src="img/frangocomquiabo.jpg" class="card-img-top" alt="Frango com Quiabo">
            <div class="card-body">
              <h5 class="card-title text-start">Frango com Quiabo</h5>
              <p class="card-text text-start"><small class="text-muted">Sabores da Terra - Minas Gerais</small></p>
              <div class="d-flex justify-content-start align-items-center gap-3 mb-2">
              <div class="d-flex align-items-center">
                <img src="img/liikee.png" width="24" class="interact-btn" data-type="like" data-post="2">
                <span class="ms-1" id="like-count-2">20</span>
              </div>
              <div class="d-flex align-items-center">
                <img src="img/dislikee.png" width="24" class="interact-btn" data-type="dislike" data-post="2">
                <span class="ms-1" id="dislike-count-2">1</span>
              </div>
              <div class="d-flex align-items-center">
                <img src="img/comentarios.png" width="24" class="interact-btn" data-type="comment" data-post="2">
                <span class="ms-1" id="comment-count-2">8</span>
              </div>
              </div>
              <!-- Área de comentários -->
              <div id="comments-2" class="mb-2"></div>
              <div class="input-group">
              <input type="text" class="form-control" placeholder="Escreva um comentário..." id="comment-input-2">
              <button class="btn btn-warning text-white" type="button" onclick="addComment(2)">Comentar</button>
              </div>
            </div>
            </div>
            <!-- Card 3 -->
            <div class="card mb-3" id="post-3">
              <img src="img/tropiro.jfif" class="card-img-top" alt="Feijão Tropeiro">
              <div class="card-body">
                <h5 class="card-title text-start">Feijão Tropeiro</h5>
                <p class="card-text text-start"><small class="text-muted">Sabores da Terra - Minas Gerais</small></p>
                <div class="d-flex justify-content-start align-items-center gap-3 mb-2">
                  <div class="d-flex align-items-center">
                    <img src="img/liikee.png" width="24" class="interact-btn" data-type="like" data-post="3">
                    <span class="ms-1" id="like-count-3">20</span>
                  </div>
                  <div class="d-flex align-items-center">
                    <img src="img/dislikee.png" width="24" class="interact-btn" data-type="dislike" data-post="3">
                    <span class="ms-1" id="dislike-count-3">1</span>
                  </div>
                  <div class="d-flex align-items-center">
                    <img src="img/comentarios.png" width="24" class="interact-btn" data-type="comment" data-post="3">
                    <span class="ms-1" id="comment-count-3">8</span>
                  </div>
                </div>
                <!-- Área de comentários -->
                <div id="comments-3" class="mb-2"></div>
                <div class="input-group">
                  <input type="text" class="form-control" placeholder="Escreva um comentário..." id="comment-input-3">
                  <button class="btn btn-warning text-white" type="button" onclick="addComment(3)">Comentar</button>
                </div>
              </div>
            </div>

<!-- Card 4 -->
<div class="card mb-3" id="post-4"></div>
  <img src="img/acaraje.webp" class="card-img-top" alt="Acarajé">
  <div class="card-body">
    <h5 class="card-title text-start">Acarajé</h5>
    <p class="card-text text-start"><small class="text-muted">Sabores da Terra - Bahia</small></p>
    <div class="d-flex justify-content-start align-items-center gap-3 mb-2">
      <div class="d-flex align-items-center">
        <img src="img/liikee.png" width="24" class="interact-btn" data-type="like" data-post="4">
        <span class="ms-1" id="like-count-4">20</span>
      </div>
      <div class="d-flex align-items-center">
        <img src="img/dislikee.png" width="24" class="interact-btn" data-type="dislike" data-post="4">
        <span class="ms-1" id="dislike-count-4">1</span>
      </div>
      <div class="d-flex align-items-center">
        <img src="img/comentarios.png" width="24" class="interact-btn" data-type="comment" data-post="4">
        <span class="ms-1" id="comment-count-4">8</span>
      </div>
    </div>
    <!-- Área de comentários -->
    <div id="comments-4" class="mb-2"></div>
    <div class="input-group">
      <input type="text" class="form-control" placeholder="Escreva um comentário..." id="comment-input-4">
      <button class="btn btn-warning text-white" type="button" onclick="addComment(4)">Comentar</button>
    </div>
  </div>
</div>

<script>
  // Função para adicionar comentário
  function addComment(postId) {
    if (!isLoggedIn) {
      new bootstrap.Modal(document.getElementById('loginModal')).show();
      return;
    }
    const input = document.getElementById(`comment-input-${postId}`);
    const commentsDiv = document.getElementById(`comments-${postId}`);
    const commentText = input.value.trim();
    if (commentText) {
      const commentElem = document.createElement('div');
      commentElem.className = "border rounded p-2 mb-1 bg-light";
      commentElem.textContent = commentText;
      commentsDiv.appendChild(commentElem);

      // Atualiza contador de comentários
      const countSpan = document.getElementById(`comment-count-${postId}`);
      countSpan.textContent = parseInt(countSpan.textContent) + 1;

      input.value = "";
    }
  }
</script>

          </div>

          <!-- Outros cards podem ser adicionados aqui... -->

        </div>
      </main>

      <!-- COLUNA 3: Login -->
      <aside class="col-md-3 bg-light d-flex align-items-start justify-content-center p-3">
        <button id="login-btn" class="btn text-white fw-bold" style="background-color: #D97014;" data-bs-toggle="modal" data-bs-target="#loginModal">Entrar</button>

      </aside>
    </div>

    <!-- Modal de Login -->
<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="loginModalLabel">Entrar no Sabor do Brasil</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
      </div>
      <div class="modal-body">
        <div class="mb-3">
          <label for="email" class="form-label">E-mail</label>
          <input type="email" class="form-control" id="email" placeholder="Digite seu e-mail">
        </div>
        <div class="mb-3">
          <label for="senha" class="form-label">Senha</label>
          <input type="password" class="form-control" id="senha" placeholder="Digite sua senha">
        </div>
        <div id="login-error" class="text-danger" style="display: none;">Usuário ou senha incorreto</div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-warning text-white fw-bold" id="login-btn-submit">Entrar</button>
      </div>
    </div>
  </div>
</div>

    <!-- RODAPÉ -->
    <footer class="row bg-warning text-white text-center p-2" style="background-color: #D97014;">
      <div class="col">
        Sabor do Brasil
        <img src="img/insta.png" width="30" height="30" alt="Instagram">
        <img src="img/x.png" width="30" height="30" alt="Twitter">
        <img src="img/whats.png" width="40" height="40" alt="WhatsApp">
        <img src="img/globo.png" width="30" height="30" alt="Site">
        <span>Copyright - 2024</span>
      </div>
    </footer>
 
  

  <!-- Bootstrap JS + Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    let isLoggedIn = false;  // Simulando o estado de login

    // Função para simular o login 
    function handleLogin() {
  const emailInput = document.getElementById('email');
  const senhaInput = document.getElementById('senha');
  const email = emailInput.value;
  const senha = senhaInput.value;
  let erro = false;

  // Remove estados anteriores
  emailInput.classList.remove('is-invalid');
  senhaInput.classList.remove('is-invalid');

  // Validação simples
  if (email !== "emily123@gmail.com.br") {
    emailInput.classList.add('is-invalid');
    erro = true;
  }
  if (senha !== "123") {
    senhaInput.classList.add('is-invalid');
    erro = true;
  }

  if (!erro) {
    isLoggedIn = true;
    document.getElementById('login-error').style.display = 'none';

    // Atualiza o perfil com nome e imagem da usuária
    document.getElementById('perfil-img').src = "img/Emily Menezes.jfif";
    document.getElementById('perfil-nome').textContent = "Emily Menezes";

    // Esconde o botão "Entrar"
    document.getElementById('login-btn').style.display = 'none';

    // Fecha o modal corretamente
    const modal = bootstrap.Modal.getInstance(document.getElementById('loginModal'));
    modal.hide();
  } else {
    // Exibe mensagem de erro
    const erroDiv = document.getElementById('login-error');
    erroDiv.textContent = 'Usuário ou senha incorreto';
    erroDiv.style.display = 'block';
  }
}


    // Função para gerenciar interações
    function handleInteraction(event) {
      if (!isLoggedIn) {
        // Exibe o modal se o usuário não estiver logado
        new bootstrap.Modal(document.getElementById('loginModal')).show();
        return;
      }

      const postId = event.target.dataset.post;
      const type = event.target.dataset.type;
      const countElement = document.getElementById(`${type}-count-${postId}`);

      let count = parseInt(countElement.textContent);
      if (type === 'like') {
        count++;
      } else if (type === 'dislike') {
        count--;
      }

      countElement.textContent = count;
    }

    // Adicionando ouvintes de evento aos botões de interação
    document.querySelectorAll('.interact-btn').forEach(btn => {
      btn.addEventListener('click', handleInteraction);
    });

    // Adicionando o evento do botão de login
    document.getElementById('login-btn-submit').addEventListener('click', handleLogin);
  </script>
</body>
</html>
